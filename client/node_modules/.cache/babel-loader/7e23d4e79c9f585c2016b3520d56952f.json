{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\x245230\\\\desktop\\\\skillsmatrixaddy\\\\client\\\\src\\\\components\\\\oneLogin\\\\Auth.js\";\nimport React from \"react\";\nimport { connect } from \"react-redux\";\nimport { Redirect } from \"react-router-dom\";\nimport { parse } from \"query-string\";\nimport jwtDecode from \"jwt-decode\";\nimport isEmpty from \"lodash/isEmpty\";\nimport Loader from \"react-loader\";\nimport { receiveAccessToken, receiveIdToken } from \"../../actions/token\";\nimport { receiveProfileData } from \"../../actions/profile\";\nimport { addLoginData } from \"../../actions\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const Auth = _ref => {\n  let {\n    location,\n    profile,\n    receiveProfile,\n    receiveTokens,\n    addLoginData\n  } = _ref;\n\n  if (isEmpty(profile)) {\n    const hash = location.hash;\n    const response = parse(hash);\n\n    if (response.error) {\n      alert(response.error_description);\n      return /*#__PURE__*/_jsxDEV(Redirect, {\n        to: \"/onelogin\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 26,\n        columnNumber: 14\n      }, this);\n    } else {\n      //INSERT A ROUTE HERE!!!!!\n      addLoginData(jwtDecode(response.id_token));\n      receiveTokens(response.access_token, response.idToken);\n      receiveProfile(jwtDecode(response.id_token));\n    }\n\n    return /*#__PURE__*/_jsxDEV(Loader, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 12\n    }, this);\n  } else {\n    return /*#__PURE__*/_jsxDEV(Redirect, {\n      to: \"/\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 12\n    }, this);\n  }\n};\n_c = Auth;\n\nconst mapStateToProps = state => ({\n  profile: state.profile,\n  state: state.token.state,\n  nonce: state.token.nonce\n});\n\nconst mapDispatchToProps = dispatch => ({\n  receiveProfile: data => dispatch(receiveProfileData(data)),\n  receiveTokens: (accessToken, idToken) => {\n    dispatch(receiveAccessToken(accessToken));\n    dispatch(receiveIdToken(idToken));\n  },\n  addLoginData: profile => dispatch(addLoginData(profile))\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Auth);\n\nvar _c;\n\n$RefreshReg$(_c, \"Auth\");","map":{"version":3,"names":["React","connect","Redirect","parse","jwtDecode","isEmpty","Loader","receiveAccessToken","receiveIdToken","receiveProfileData","addLoginData","Auth","location","profile","receiveProfile","receiveTokens","hash","response","error","alert","error_description","id_token","access_token","idToken","mapStateToProps","state","token","nonce","mapDispatchToProps","dispatch","data","accessToken"],"sources":["C:/Users/x245230/desktop/skillsmatrixaddy/client/src/components/oneLogin/Auth.js"],"sourcesContent":["import React from \"react\";\nimport { connect } from \"react-redux\";\nimport { Redirect } from \"react-router-dom\";\nimport { parse } from \"query-string\";\nimport jwtDecode from \"jwt-decode\";\nimport isEmpty from \"lodash/isEmpty\";\nimport Loader from \"react-loader\";\n\nimport { receiveAccessToken, receiveIdToken } from \"../../actions/token\";\nimport { receiveProfileData } from \"../../actions/profile\";\nimport { addLoginData } from \"../../actions\";\n\nexport const Auth = ({\n  location,\n  profile,\n  receiveProfile,\n  receiveTokens,\n  addLoginData,\n}) => {\n  if (isEmpty(profile)) {\n    const hash = location.hash;\n    const response = parse(hash);\n\n    if (response.error) {\n      alert(response.error_description);\n      return <Redirect to=\"/onelogin\" />;\n    } else {\n      //INSERT A ROUTE HERE!!!!!\n      addLoginData(jwtDecode(response.id_token));\n      receiveTokens(response.access_token, response.idToken);\n      receiveProfile(jwtDecode(response.id_token));\n    }\n    return <Loader />;\n  } else {\n    return <Redirect to=\"/\" />;\n  }\n};\n\nconst mapStateToProps = (state) => ({\n  profile: state.profile,\n  state: state.token.state,\n  nonce: state.token.nonce,\n});\n\nconst mapDispatchToProps = (dispatch) => ({\n  receiveProfile: (data) => dispatch(receiveProfileData(data)),\n  receiveTokens: (accessToken, idToken) => {\n    dispatch(receiveAccessToken(accessToken));\n    dispatch(receiveIdToken(idToken));\n  },\n  addLoginData: (profile) => dispatch(addLoginData(profile)),\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Auth);\n"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,SAASC,QAAT,QAAyB,kBAAzB;AACA,SAASC,KAAT,QAAsB,cAAtB;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,OAAOC,OAAP,MAAoB,gBAApB;AACA,OAAOC,MAAP,MAAmB,cAAnB;AAEA,SAASC,kBAAT,EAA6BC,cAA7B,QAAmD,qBAAnD;AACA,SAASC,kBAAT,QAAmC,uBAAnC;AACA,SAASC,YAAT,QAA6B,eAA7B;;AAEA,OAAO,MAAMC,IAAI,GAAG,QAMd;EAAA,IANe;IACnBC,QADmB;IAEnBC,OAFmB;IAGnBC,cAHmB;IAInBC,aAJmB;IAKnBL;EALmB,CAMf;;EACJ,IAAIL,OAAO,CAACQ,OAAD,CAAX,EAAsB;IACpB,MAAMG,IAAI,GAAGJ,QAAQ,CAACI,IAAtB;IACA,MAAMC,QAAQ,GAAGd,KAAK,CAACa,IAAD,CAAtB;;IAEA,IAAIC,QAAQ,CAACC,KAAb,EAAoB;MAClBC,KAAK,CAACF,QAAQ,CAACG,iBAAV,CAAL;MACA,oBAAO,QAAC,QAAD;QAAU,EAAE,EAAC;MAAb;QAAA;QAAA;QAAA;MAAA,QAAP;IACD,CAHD,MAGO;MACL;MACAV,YAAY,CAACN,SAAS,CAACa,QAAQ,CAACI,QAAV,CAAV,CAAZ;MACAN,aAAa,CAACE,QAAQ,CAACK,YAAV,EAAwBL,QAAQ,CAACM,OAAjC,CAAb;MACAT,cAAc,CAACV,SAAS,CAACa,QAAQ,CAACI,QAAV,CAAV,CAAd;IACD;;IACD,oBAAO,QAAC,MAAD;MAAA;MAAA;MAAA;IAAA,QAAP;EACD,CAdD,MAcO;IACL,oBAAO,QAAC,QAAD;MAAU,EAAE,EAAC;IAAb;MAAA;MAAA;MAAA;IAAA,QAAP;EACD;AACF,CAxBM;KAAMV,I;;AA0Bb,MAAMa,eAAe,GAAIC,KAAD,KAAY;EAClCZ,OAAO,EAAEY,KAAK,CAACZ,OADmB;EAElCY,KAAK,EAAEA,KAAK,CAACC,KAAN,CAAYD,KAFe;EAGlCE,KAAK,EAAEF,KAAK,CAACC,KAAN,CAAYC;AAHe,CAAZ,CAAxB;;AAMA,MAAMC,kBAAkB,GAAIC,QAAD,KAAe;EACxCf,cAAc,EAAGgB,IAAD,IAAUD,QAAQ,CAACpB,kBAAkB,CAACqB,IAAD,CAAnB,CADM;EAExCf,aAAa,EAAE,CAACgB,WAAD,EAAcR,OAAd,KAA0B;IACvCM,QAAQ,CAACtB,kBAAkB,CAACwB,WAAD,CAAnB,CAAR;IACAF,QAAQ,CAACrB,cAAc,CAACe,OAAD,CAAf,CAAR;EACD,CALuC;EAMxCb,YAAY,EAAGG,OAAD,IAAagB,QAAQ,CAACnB,YAAY,CAACG,OAAD,CAAb;AANK,CAAf,CAA3B;;AASA,eAAeZ,OAAO,CAACuB,eAAD,EAAkBI,kBAAlB,CAAP,CAA6CjB,IAA7C,CAAf"},"metadata":{},"sourceType":"module"}