{"ast":null,"code":"import { createElement, Component } from 'react';\nimport { oneOf, number, func, arrayOf, node, bool, any } from 'prop-types';\nimport clsx from 'clsx';\nimport { withStyles, createStyles } from '@material-ui/core/styles';\nimport _classCallCheck from '@babel/runtime/helpers/esm/classCallCheck';\nimport _createClass from '@babel/runtime/helpers/esm/createClass';\nimport _possibleConstructorReturn from '@babel/runtime/helpers/esm/possibleConstructorReturn';\nimport _getPrototypeOf from '@babel/runtime/helpers/esm/getPrototypeOf';\nimport _inherits from '@babel/runtime/helpers/esm/inherits';\nvar ClockType;\n\n(function (ClockType) {\n  ClockType[\"HOURS\"] = \"hours\";\n  ClockType[\"MINUTES\"] = \"minutes\";\n  ClockType[\"SECONDS\"] = \"seconds\";\n})(ClockType || (ClockType = {}));\n\nvar ClockType$1 = ClockType;\n\nvar ClockPointer = /*#__PURE__*/function (_React$Component) {\n  _inherits(ClockPointer, _React$Component);\n\n  function ClockPointer() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, ClockPointer);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(ClockPointer)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      toAnimateTransform: false,\n      previousType: undefined\n    };\n\n    _this.getAngleStyle = function () {\n      var _this$props = _this.props,\n          value = _this$props.value,\n          isInner = _this$props.isInner,\n          type = _this$props.type;\n      var max = type === ClockType$1.HOURS ? 12 : 60;\n      var angle = 360 / max * value;\n\n      if (type === ClockType$1.HOURS && value > 12) {\n        angle -= 360; // round up angle to max 360 degrees\n      }\n\n      return {\n        height: isInner ? '26%' : '40%',\n        transform: \"rotateZ(\".concat(angle, \"deg)\")\n      };\n    };\n\n    return _this;\n  }\n\n  _createClass(ClockPointer, [{\n    key: \"render\",\n    value: function render() {\n      var _this$props2 = this.props,\n          classes = _this$props2.classes,\n          hasSelected = _this$props2.hasSelected;\n      return createElement(\"div\", {\n        style: this.getAngleStyle(),\n        className: clsx(classes.pointer, this.state.toAnimateTransform && classes.animateTransform)\n      }, createElement(\"div\", {\n        className: clsx(classes.thumb, hasSelected && classes.noPoint)\n      }));\n    }\n  }]);\n\n  return ClockPointer;\n}(Component);\n\nClockPointer.getDerivedStateFromProps = function (nextProps, state) {\n  if (nextProps.type !== state.previousType) {\n    return {\n      toAnimateTransform: true,\n      previousType: nextProps.type\n    };\n  }\n\n  return {\n    toAnimateTransform: false,\n    previousType: nextProps.type\n  };\n};\n\nvar styles = function styles(theme) {\n  return createStyles({\n    pointer: {\n      width: 2,\n      backgroundColor: theme.palette.primary.main,\n      position: 'absolute',\n      left: 'calc(50% - 1px)',\n      bottom: '50%',\n      transformOrigin: 'center bottom 0px'\n    },\n    animateTransform: {\n      transition: theme.transitions.create(['transform', 'height'])\n    },\n    thumb: {\n      width: 4,\n      height: 4,\n      backgroundColor: theme.palette.primary.contrastText,\n      borderRadius: '100%',\n      position: 'absolute',\n      top: -21,\n      left: -15,\n      border: \"14px solid \".concat(theme.palette.primary.main),\n      boxSizing: 'content-box'\n    },\n    noPoint: {\n      backgroundColor: theme.palette.primary.main\n    }\n  });\n};\n\nvar ClockPointer$1 = withStyles(styles, {\n  name: 'MuiPickersClockPointer'\n})(ClockPointer);\nvar center = {\n  x: 260 / 2,\n  y: 260 / 2\n};\nvar basePoint = {\n  x: center.x,\n  y: 0\n};\nvar cx = basePoint.x - center.x;\nvar cy = basePoint.y - center.y;\n\nvar rad2deg = function rad2deg(rad) {\n  return rad * 57.29577951308232;\n};\n\nvar getAngleValue = function getAngleValue(step, offsetX, offsetY) {\n  var x = offsetX - center.x;\n  var y = offsetY - center.y;\n  var atan = Math.atan2(cx, cy) - Math.atan2(x, y);\n  var deg = rad2deg(atan);\n  deg = Math.round(deg / step) * step;\n  deg %= 360;\n  var value = Math.floor(deg / step) || 0;\n  var delta = Math.pow(x, 2) + Math.pow(y, 2);\n  var distance = Math.sqrt(delta);\n  return {\n    value: value,\n    distance: distance\n  };\n};\n\nvar getHours = function getHours(offsetX, offsetY, ampm) {\n  var _getAngleValue = getAngleValue(30, offsetX, offsetY),\n      value = _getAngleValue.value,\n      distance = _getAngleValue.distance;\n\n  value = value || 12;\n\n  if (!ampm) {\n    if (distance < 90) {\n      value += 12;\n      value %= 24;\n    }\n  } else {\n    value %= 12;\n  }\n\n  return value;\n};\n\nvar getMinutes = function getMinutes(offsetX, offsetY) {\n  var step = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 1;\n  var angleStep = step * 6;\n\n  var _getAngleValue2 = getAngleValue(angleStep, offsetX, offsetY),\n      value = _getAngleValue2.value;\n\n  value = value * step % 60;\n  return value;\n};\n\nvar getMeridiem = function getMeridiem(date, utils) {\n  return utils.getHours(date) >= 12 ? 'pm' : 'am';\n};\n\nvar convertToMeridiem = function convertToMeridiem(time, meridiem, ampm, utils) {\n  if (ampm) {\n    var currentMeridiem = utils.getHours(time) >= 12 ? 'pm' : 'am';\n\n    if (currentMeridiem !== meridiem) {\n      var hours = meridiem === 'am' ? utils.getHours(time) - 12 : utils.getHours(time) + 12;\n      return utils.setHours(time, hours);\n    }\n  }\n\n  return time;\n};\n\nvar Clock = /*#__PURE__*/function (_React$Component) {\n  _inherits(Clock, _React$Component);\n\n  function Clock() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, Clock);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Clock)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.isMoving = false;\n\n    _this.handleTouchMove = function (e) {\n      _this.isMoving = true;\n\n      _this.setTime(e);\n    };\n\n    _this.handleTouchEnd = function (e) {\n      if (_this.isMoving) {\n        _this.setTime(e, true);\n\n        _this.isMoving = false;\n      }\n    };\n\n    _this.handleMove = function (e) {\n      e.preventDefault();\n      e.stopPropagation(); // MouseEvent.which is deprecated, but MouseEvent.buttons is not supported in Safari\n\n      var isButtonPressed = typeof e.buttons === 'undefined' ? e.nativeEvent.which === 1 : e.buttons === 1;\n\n      if (isButtonPressed) {\n        _this.setTime(e.nativeEvent, false);\n      }\n    };\n\n    _this.handleMouseUp = function (e) {\n      if (_this.isMoving) {\n        _this.isMoving = false;\n      }\n\n      _this.setTime(e.nativeEvent, true);\n    };\n\n    _this.hasSelected = function () {\n      var _this$props = _this.props,\n          type = _this$props.type,\n          value = _this$props.value;\n\n      if (type === ClockType$1.HOURS) {\n        return true;\n      }\n\n      return value % 5 === 0;\n    };\n\n    return _this;\n  }\n\n  _createClass(Clock, [{\n    key: \"setTime\",\n    value: function setTime(e) {\n      var isFinish = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n      var offsetX = e.offsetX,\n          offsetY = e.offsetY;\n\n      if (typeof offsetX === 'undefined') {\n        var rect = e.target.getBoundingClientRect();\n        offsetX = e.changedTouches[0].clientX - rect.left;\n        offsetY = e.changedTouches[0].clientY - rect.top;\n      }\n\n      var value = this.props.type === ClockType$1.SECONDS || this.props.type === ClockType$1.MINUTES ? getMinutes(offsetX, offsetY, this.props.minutesStep) : getHours(offsetX, offsetY, Boolean(this.props.ampm));\n      this.props.onChange(value, isFinish);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props2 = this.props,\n          classes = _this$props2.classes,\n          value = _this$props2.value,\n          children = _this$props2.children,\n          type = _this$props2.type,\n          ampm = _this$props2.ampm;\n      var isPointerInner = !ampm && type === ClockType$1.HOURS && (value < 1 || value > 12);\n      return createElement(\"div\", {\n        className: classes.container\n      }, createElement(\"div\", {\n        className: classes.clock\n      }, createElement(\"div\", {\n        role: \"menu\",\n        tabIndex: -1,\n        className: classes.squareMask,\n        onTouchMove: this.handleTouchMove,\n        onTouchEnd: this.handleTouchEnd,\n        onMouseUp: this.handleMouseUp,\n        onMouseMove: this.handleMove\n      }), createElement(\"div\", {\n        className: classes.pin\n      }), createElement(ClockPointer$1, {\n        type: type,\n        value: value,\n        isInner: isPointerInner,\n        hasSelected: this.hasSelected()\n      }), children));\n    }\n  }]);\n\n  return Clock;\n}(Component);\n\nprocess.env.NODE_ENV !== \"production\" ? Clock.propTypes = {\n  type: oneOf(Object.keys(ClockType$1).map(function (key) {\n    return ClockType$1[key];\n  })).isRequired,\n  value: number.isRequired,\n  onChange: func.isRequired,\n  children: arrayOf(node).isRequired,\n  ampm: bool,\n  minutesStep: number,\n  innerRef: any\n} : void 0;\nClock.defaultProps = {\n  ampm: false,\n  minutesStep: 1\n};\n\nvar styles$1 = function styles(theme) {\n  return createStyles({\n    container: {\n      display: 'flex',\n      justifyContent: 'center',\n      alignItems: 'flex-end',\n      margin: \"\".concat(theme.spacing(2), \"px 0 \").concat(theme.spacing(1), \"px\")\n    },\n    clock: {\n      backgroundColor: 'rgba(0,0,0,.07)',\n      borderRadius: '50%',\n      height: 260,\n      width: 260,\n      position: 'relative',\n      pointerEvents: 'none'\n    },\n    squareMask: {\n      width: '100%',\n      height: '100%',\n      position: 'absolute',\n      pointerEvents: 'auto',\n      outline: 'none',\n      touchActions: 'none',\n      userSelect: 'none',\n      '&:active': {\n        cursor: 'move'\n      }\n    },\n    pin: {\n      width: 6,\n      height: 6,\n      borderRadius: '50%',\n      backgroundColor: theme.palette.primary.main,\n      position: 'absolute',\n      top: '50%',\n      left: '50%',\n      transform: 'translate(-50%, -50%)'\n    }\n  });\n};\n\nvar Clock$1 = withStyles(styles$1, {\n  name: 'MuiPickersClock'\n})(Clock);\nexport { Clock as C, Clock$1 as a, ClockType$1 as b, convertToMeridiem as c, getMeridiem as g, styles$1 as s };","map":{"version":3,"sources":["../../src/constants/ClockType.ts","../../src/views/Clock/ClockPointer.tsx","../../src/_helpers/time-utils.ts","../../src/views/Clock/Clock.tsx"],"names":["ClockType","ClockPointer","getDerivedStateFromProps","nextProps","state","toAnimateTransform","previousType","type","undefined","value","isInner","max","angle","height","transform","classes","hasSelected","clsx","React.createElement","styles","createStyles","pointer","width","backgroundColor","theme","position","left","bottom","transformOrigin","animateTransform","transition","thumb","borderRadius","top","border","boxSizing","noPoint","main","name","center","x","y","basePoint","cx","cy","rad2deg","rad","getAngleValue","offsetX","offsetY","atan","Math","deg","delta","distance","getHours","getMinutes","step","angleStep","getMeridiem","utils","convertToMeridiem","currentMeridiem","hours","meridiem","Clock","propTypes","PropTypes","onChange","children","ampm","minutesStep","innerRef","defaultProps","isFinish","e","rect","Boolean","isButtonPressed","isPointerInner","container","clock","handleMove","pin","display","justifyContent","alignItems","margin","pointerEvents","squareMask","outline","touchActions","userSelect","cursor"],"mappings":"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","sourcesContent":["enum ClockType {\n  HOURS = 'hours',\n\n  MINUTES = 'minutes',\n\n  SECONDS = 'seconds',\n}\n\nexport type ClockViewType = 'hours' | 'minutes' | 'seconds';\n\nexport default ClockType;\n","import * as React from 'react';\nimport clsx from 'clsx';\nimport ClockType, { ClockViewType } from '../../constants/ClockType';\nimport { Theme } from '@material-ui/core/styles';\nimport { withStyles, createStyles, WithStyles } from '@material-ui/core/styles';\n\nexport interface ClockPointerProps extends WithStyles<typeof styles> {\n  value: number;\n  hasSelected: boolean;\n  isInner: boolean;\n  type: ClockViewType;\n}\n\nexport class ClockPointer extends React.Component<ClockPointerProps> {\n  public static getDerivedStateFromProps = (\n    nextProps: ClockPointerProps,\n    state: ClockPointer['state']\n  ) => {\n    if (nextProps.type !== state.previousType) {\n      return {\n        toAnimateTransform: true,\n        previousType: nextProps.type,\n      };\n    }\n\n    return {\n      toAnimateTransform: false,\n      previousType: nextProps.type,\n    };\n  };\n\n  public state = {\n    toAnimateTransform: false,\n    previousType: undefined,\n  };\n\n  public getAngleStyle = () => {\n    const { value, isInner, type } = this.props;\n\n    const max = type === ClockType.HOURS ? 12 : 60;\n    let angle = (360 / max) * value;\n\n    if (type === ClockType.HOURS && value > 12) {\n      angle -= 360; // round up angle to max 360 degrees\n    }\n\n    return {\n      height: isInner ? '26%' : '40%',\n      transform: `rotateZ(${angle}deg)`,\n    };\n  };\n\n  public render() {\n    const { classes, hasSelected } = this.props;\n\n    return (\n      <div\n        style={this.getAngleStyle()}\n        className={clsx(classes.pointer, {\n          [classes.animateTransform]: this.state.toAnimateTransform,\n        })}\n      >\n        <div\n          className={clsx(classes.thumb, {\n            [classes.noPoint]: hasSelected,\n          })}\n        />\n      </div>\n    );\n  }\n}\n\nexport const styles = (theme: Theme) =>\n  createStyles({\n    pointer: {\n      width: 2,\n      backgroundColor: theme.palette.primary.main,\n      position: 'absolute',\n      left: 'calc(50% - 1px)',\n      bottom: '50%',\n      transformOrigin: 'center bottom 0px',\n    },\n    animateTransform: {\n      transition: theme.transitions.create(['transform', 'height']),\n    },\n    thumb: {\n      width: 4,\n      height: 4,\n      backgroundColor: theme.palette.primary.contrastText,\n      borderRadius: '100%',\n      position: 'absolute',\n      top: -21,\n      left: -15,\n      border: `14px solid ${theme.palette.primary.main}`,\n      boxSizing: 'content-box',\n    },\n    noPoint: {\n      backgroundColor: theme.palette.primary.main,\n    },\n  });\n\nexport default withStyles(styles, {\n  name: 'MuiPickersClockPointer',\n})(ClockPointer as React.ComponentType<ClockPointerProps>);\n","import { IUtils } from '@date-io/core/IUtils';\nimport { MaterialUiPickersDate } from '../typings/date';\n\nconst center = {\n  x: 260 / 2,\n  y: 260 / 2,\n};\n\nconst basePoint = {\n  x: center.x,\n  y: 0,\n};\n\nconst cx = basePoint.x - center.x;\nconst cy = basePoint.y - center.y;\n\nconst rad2deg = (rad: number) => rad * 57.29577951308232;\n\nconst getAngleValue = (step: number, offsetX: number, offsetY: number) => {\n  const x = offsetX - center.x;\n  const y = offsetY - center.y;\n\n  const atan = Math.atan2(cx, cy) - Math.atan2(x, y);\n\n  let deg = rad2deg(atan);\n  deg = Math.round(deg / step) * step;\n  deg %= 360;\n\n  const value = Math.floor(deg / step) || 0;\n  const delta = Math.pow(x, 2) + Math.pow(y, 2);\n  const distance = Math.sqrt(delta);\n\n  return { value, distance };\n};\n\nexport const getHours = (offsetX: number, offsetY: number, ampm: boolean) => {\n  let { value, distance } = getAngleValue(30, offsetX, offsetY);\n  value = value || 12;\n\n  if (!ampm) {\n    if (distance < 90) {\n      value += 12;\n      value %= 24;\n    }\n  } else {\n    value %= 12;\n  }\n\n  return value;\n};\n\nexport const getMinutes = (offsetX: number, offsetY: number, step = 1) => {\n  const angleStep = step * 6;\n  let { value } = getAngleValue(angleStep, offsetX, offsetY);\n  value = (value * step) % 60;\n\n  return value;\n};\n\nexport const getMeridiem = (\n  date: MaterialUiPickersDate,\n  utils: IUtils<MaterialUiPickersDate>\n): 'am' | 'pm' => {\n  return utils.getHours(date) >= 12 ? 'pm' : 'am';\n};\n\nexport const convertToMeridiem = (\n  time: MaterialUiPickersDate,\n  meridiem: 'am' | 'pm',\n  ampm: boolean,\n  utils: IUtils<MaterialUiPickersDate>\n) => {\n  if (ampm) {\n    const currentMeridiem = utils.getHours(time) >= 12 ? 'pm' : 'am';\n    if (currentMeridiem !== meridiem) {\n      const hours = meridiem === 'am' ? utils.getHours(time) - 12 : utils.getHours(time) + 12;\n\n      return utils.setHours(time, hours);\n    }\n  }\n\n  return time;\n};\n","import * as React from 'react';\nimport * as PropTypes from 'prop-types';\nimport ClockPointer from './ClockPointer';\nimport ClockType, { ClockViewType } from '../../constants/ClockType';\nimport { getHours, getMinutes } from '../../_helpers/time-utils';\nimport { withStyles, createStyles, WithStyles, Theme } from '@material-ui/core/styles';\n\nexport interface ClockProps extends WithStyles<typeof styles> {\n  type: ClockViewType;\n  value: number;\n  onChange: (value: number, isFinish?: boolean) => void;\n  ampm?: boolean;\n  minutesStep?: number;\n  children: React.ReactElement<any>[];\n}\n\nexport class Clock extends React.Component<ClockProps> {\n  public static propTypes: any = {\n    type: PropTypes.oneOf(\n      Object.keys(ClockType).map(key => ClockType[key as keyof typeof ClockType])\n    ).isRequired,\n    value: PropTypes.number.isRequired,\n    onChange: PropTypes.func.isRequired,\n    children: PropTypes.arrayOf(PropTypes.node).isRequired,\n    ampm: PropTypes.bool,\n    minutesStep: PropTypes.number,\n    innerRef: PropTypes.any,\n  };\n\n  public static defaultProps = {\n    ampm: false,\n    minutesStep: 1,\n  };\n\n  public isMoving = false;\n\n  public setTime(e: any, isFinish = false) {\n    let { offsetX, offsetY } = e;\n\n    if (typeof offsetX === 'undefined') {\n      const rect = e.target.getBoundingClientRect();\n\n      offsetX = e.changedTouches[0].clientX - rect.left;\n      offsetY = e.changedTouches[0].clientY - rect.top;\n    }\n\n    const value =\n      this.props.type === ClockType.SECONDS || this.props.type === ClockType.MINUTES\n        ? getMinutes(offsetX, offsetY, this.props.minutesStep)\n        : getHours(offsetX, offsetY, Boolean(this.props.ampm));\n\n    this.props.onChange(value, isFinish);\n  }\n\n  public handleTouchMove = (e: React.TouchEvent) => {\n    this.isMoving = true;\n    this.setTime(e);\n  };\n\n  public handleTouchEnd = (e: React.TouchEvent) => {\n    if (this.isMoving) {\n      this.setTime(e, true);\n      this.isMoving = false;\n    }\n  };\n\n  public handleMove = (e: React.MouseEvent<HTMLDivElement>) => {\n    e.preventDefault();\n    e.stopPropagation();\n    // MouseEvent.which is deprecated, but MouseEvent.buttons is not supported in Safari\n    const isButtonPressed =\n      typeof e.buttons === 'undefined' ? e.nativeEvent.which === 1 : e.buttons === 1;\n\n    if (isButtonPressed) {\n      this.setTime(e.nativeEvent, false);\n    }\n  };\n\n  public handleMouseUp = (e: React.MouseEvent) => {\n    if (this.isMoving) {\n      this.isMoving = false;\n    }\n\n    this.setTime(e.nativeEvent, true);\n  };\n\n  public hasSelected = () => {\n    const { type, value } = this.props;\n\n    if (type === ClockType.HOURS) {\n      return true;\n    }\n\n    return value % 5 === 0;\n  };\n\n  public render() {\n    const { classes, value, children, type, ampm } = this.props;\n\n    const isPointerInner = !ampm && type === ClockType.HOURS && (value < 1 || value > 12);\n\n    return (\n      <div className={classes.container}>\n        <div className={classes.clock}>\n          <div\n            role=\"menu\"\n            tabIndex={-1}\n            className={classes.squareMask}\n            onTouchMove={this.handleTouchMove}\n            onTouchEnd={this.handleTouchEnd}\n            onMouseUp={this.handleMouseUp}\n            onMouseMove={this.handleMove}\n          />\n\n          <div className={classes.pin} />\n\n          <ClockPointer\n            type={type}\n            value={value}\n            isInner={isPointerInner}\n            hasSelected={this.hasSelected()}\n          />\n\n          {children}\n        </div>\n      </div>\n    );\n  }\n}\n\nexport const styles = (theme: Theme) =>\n  createStyles({\n    container: {\n      display: 'flex',\n      justifyContent: 'center',\n      alignItems: 'flex-end',\n      margin: `${theme.spacing(2)}px 0 ${theme.spacing(1)}px`,\n    },\n    clock: {\n      backgroundColor: 'rgba(0,0,0,.07)',\n      borderRadius: '50%',\n      height: 260,\n      width: 260,\n      position: 'relative',\n      pointerEvents: 'none',\n    },\n    squareMask: {\n      width: '100%',\n      height: '100%',\n      position: 'absolute',\n      pointerEvents: 'auto',\n      outline: 'none',\n      touchActions: 'none',\n      userSelect: 'none',\n      '&:active': {\n        cursor: 'move',\n      },\n    },\n    pin: {\n      width: 6,\n      height: 6,\n      borderRadius: '50%',\n      backgroundColor: theme.palette.primary.main,\n      position: 'absolute',\n      top: '50%',\n      left: '50%',\n      transform: 'translate(-50%, -50%)',\n    },\n  });\n\nexport default withStyles(styles, {\n  name: 'MuiPickersClock',\n})(Clock as React.ComponentType<ClockProps>);\n"]},"metadata":{},"sourceType":"module"}